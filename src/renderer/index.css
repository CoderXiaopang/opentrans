@tailwind base;
@tailwind components;
@tailwind utilities;

* { box-sizing: border-box; }

html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* ── Dark theme (default) ─────────────────────────────── */
:root, [data-theme="dark"] {
  --bg-base:        #0A0F17;
  --bg-deep:        #111827;
  --bg-mid:         #1F2937;
  --bg-surface:     #1A2432;
  --surface:        #374151;
  --surface-hover:  #4B5563;
  --border:         rgba(55,65,81,0.5);
  --border-solid:   #374151;
  --bg-card:        rgba(17,24,39,0.85);
  --bg-panel:       rgba(17,24,39,0.5);
  --toolbar-bg:     linear-gradient(to right, #1F2937, rgba(31,41,55,0.95));
  --text-primary:   #F9FAFB;
  --text-secondary: #D1D5DB;
  --text-muted:     #9CA3AF;
  --text-subtle:    #6B7280;
  --md-text:        #E5E7EB;
  --md-heading:     #ffffff;
  --md-code-bg:     #1F2937;
  --md-code-color:  #60A5FA;
  --md-pre-bg:      #111827;
  --md-pre-border:  #374151;
  --md-table-head:  #1F2937;
  --md-table-even:  #111827;
  --md-blockquote:  #9CA3AF;
  --md-hr:          #1F2937;
  --progress-track: #374151;
  --textarea-bg:    #111827;
  --modal-bg:       #1A2432;
  --input-bg:       #1F2937;
  --file-tree-bg:   #111827;
  --scrollbar:      #374151;
  --card-shadow:    0 1px 3px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.05);
  --card-glow:      0 4px 6px rgba(59,130,246,0.06), 0 0 0 1px rgba(59,130,246,0.2);
}

/* ── Light theme ──────────────────────────────────────── */
[data-theme="light"] {
  --bg-base:        #F8FAFC;
  --bg-deep:        #FFFFFF;
  --bg-mid:         #F1F5F9;
  --bg-surface:     #E2E8F0;
  --surface:        #CBD5E1;
  --surface-hover:  #94A3B8;
  --border:         rgba(148,163,184,0.35);
  --border-solid:   #CBD5E1;
  --bg-card:        rgba(255,255,255,0.95);
  --bg-panel:       rgba(241,245,249,0.8);
  --toolbar-bg:     linear-gradient(to right, #E2E8F0, rgba(226,232,240,0.97));
  --text-primary:   #0F172A;
  --text-secondary: #334155;
  --text-muted:     #475569;
  --text-subtle:    #94A3B8;
  --md-text:        #1E293B;
  --md-heading:     #0F172A;
  --md-code-bg:     #EFF6FF;
  --md-code-color:  #2563EB;
  --md-pre-bg:      #1E293B;
  --md-pre-border:  #CBD5E1;
  --md-table-head:  #F1F5F9;
  --md-table-even:  #F8FAFC;
  --md-blockquote:  #64748B;
  --md-hr:          #E2E8F0;
  --progress-track: #CBD5E1;
  --textarea-bg:    #FFFFFF;
  --modal-bg:       #FFFFFF;
  --input-bg:       #F8FAFC;
  --file-tree-bg:   #F8FAFC;
  --scrollbar:      #CBD5E1;
  --card-shadow:    0 1px 4px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.06);
  --card-glow:      0 4px 12px rgba(59,130,246,0.12), 0 0 0 1px rgba(59,130,246,0.3);
}

body { background: var(--bg-base); color: var(--text-primary); }

/* ── Scrollbar ─────────────────────────────────────────── */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--scrollbar); border-radius: 99px; }

/* ── Spinner ───────────────────────────────────────────── */
@keyframes spin { to { transform: rotate(360deg); } }
.fa-spin { animation: spin 1s linear infinite; }

/* ── Markdown ──────────────────────────────────────────── */
.markdown-body {
  font-size: 13.5px;
  line-height: 1.8;
  color: var(--md-text);
}
.markdown-body h1 {
  font-size: 1.5rem; font-weight: 700;
  margin: 1.5rem 0 1rem; color: var(--md-heading);
  border-bottom: 1px solid var(--md-hr); padding-bottom: 0.5rem;
}
.markdown-body h2 { font-size: 1.2rem; font-weight: 600; margin: 1.25rem 0 0.5rem; color: var(--md-heading); }
.markdown-body h3 { font-size: 1rem;  font-weight: 600; margin: 1rem 0 0.4rem;   color: var(--md-heading); }
.markdown-body p  { margin: 0.6rem 0; }
.markdown-body ul { list-style: disc;    padding-left: 1.5rem; margin: 0.5rem 0; }
.markdown-body ol { list-style: decimal; padding-left: 1.5rem; margin: 0.5rem 0; }
.markdown-body li { margin: 0.3rem 0; }
.markdown-body code {
  background: var(--md-code-bg); color: var(--md-code-color);
  padding: 0.1em 0.4em; border-radius: 4px;
  font-family: 'JetBrains Mono','Fira Code',monospace; font-size: 0.8em;
}
.markdown-body pre {
  background: var(--md-pre-bg); border: 1px solid var(--md-pre-border);
  border-radius: 8px; padding: 1rem; margin: 0.75rem 0; overflow-x: auto;
}
.markdown-body pre code { background: transparent; color: #E5E7EB; padding: 0; font-size: 0.82rem; }
.markdown-body blockquote {
  border-left: 3px solid #3B82F6; padding-left: 0.75rem;
  margin: 0.75rem 0; color: var(--md-blockquote); font-style: italic;
}
.markdown-body table { width: 100%; border-collapse: collapse; margin: 0.75rem 0; font-size: 0.85rem; }
.markdown-body th { background: var(--md-table-head); color: var(--text-secondary); font-weight: 600; padding: 0.5rem 0.75rem; border: 1px solid var(--border-solid); text-align: left; }
.markdown-body td { padding: 0.4rem 0.75rem; border: 1px solid var(--md-hr); color: var(--md-text); }
.markdown-body tr:nth-child(even) td { background: var(--md-table-even); }
.markdown-body a { color: #60A5FA; text-decoration: underline; text-underline-offset: 2px; }
.markdown-body hr { border: none; border-top: 1px solid var(--md-hr); margin: 1rem 0; }
.markdown-body img { max-width: 100%; border-radius: 6px; }
